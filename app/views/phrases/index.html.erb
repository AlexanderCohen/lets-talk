<div data-controller="phrase">
  <div id="flash_messages">
    <%= render "shared/flash" %>
  </div>
  <div data-controller="expandable" data-expandable-default-expanded-value="true" class="mb-2">
    <%# Expandable Header %>
    <div data-action="click->expandable#toggle" class="expandable-header primary">
      <h2 class="text-2xl font-bold my-2">Create New Phrase</h2>
      <svg data-expandable-target="icon" class="w-6 h-6 transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
      </svg>
    </div>
    <%# Expandable Content %>
    <div id="new_phrase_form" data-expandable-target="content" class="expandable-content primary">
      <%= render 'form', phrase: Phrase.new %>
    </div>
    <div id='last_phrase_display' class='my-3'>
    </div>
  </div>
  <div id="phrases_list" data-phrase-target="phrasesList">
    <% @phrases.group_by(&:category).each do |category, phrases| %>
      <%= render partial: 'category', locals: { category: category, phrases: phrases, expanded: true } %>
    <% end %>
  </div>
</div>